window.__require=function n(e,o,t){function i(r,a){if(!o[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+r+"'")}}var d=o[r]={exports:{}};e[r][0].call(d.exports,function(n){return i(e[r][1][n]||n)},d,d.exports,n,e,o,t)}return o[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<t.length;r++)i(t[r]);return i}({Card:[function(n,e,o){"use strict";cc._RF.push(e,"9f6cdEJNUhFJpvD2CCjHssy","Card"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Component}},onLoad:function(){this.node.on(cc.Node.EventType.MOUSE_DOWN,function(n){Global.room.send({message:this.node.index})},this),this.node.on(cc.Node.EventType.TOUCH_START,function(n){Global.room.send({message:this.node.index})},this)},showClub:function(n){this.label.string=n}}),cc._RF.pop()},{}],Main:[function(n,e,o){"use strict";cc._RF.push(e,"ae155FXOL1PrLtCFMAUOIw9","Main"),window.Global={room:null},cc.Class({extends:cc.Component,properties:{card:{default:null,type:cc.Prefab}},onLoad:function(){var n=this,e=(cc.director.getScene(),window.document.location.host.replace(/:.*/,"")),o=new Colyseus.Client(location.protocol.replace("http","ws")+e+(location.port?":"+location.port:"")).join("random_team");o._finishInitState=!1,Global.room=o,o.onJoin.add(function(){console.log("joined")}),o.onStateChange.addOnce(function(e){console.log("initial room state:",e),n.initCards(e),o._finishInitState=!0}),o.onStateChange.add(function(n){console.log("onStateChange:",n)}),o.listen("openedClubs/:id",function(e){console.log("openedClubs"),console.log(e),o._finishInitState&&e.value&&n.openCard(e.value)}),o.onMessage.add(function(n){console.log(n)})},initCards:function(n){for(var e=cc.director.getScene(),o=.2*cc.winSize.width,t=.9*cc.winSize.height,i=1;i<=n.numOfClubs;i++){var c=cc.instantiate(this.card);c.active=!0,c.parent=e,c.name="Card_"+(i-1),c.index=i-1,c.setPosition(o,t),o+=1.05*c.getContentSize().width,i%6==0&&(o=.2*cc.winSize.width,t-=1.05*c.getContentSize().height)}for(var r in n.openedClubs){var a=n.openedClubs[r];this.openCard(a)}},openCard:function(n){cc.director.getScene().getChildByName("Card_"+n.index).getComponent("Card").showClub(n.value)}}),cc._RF.pop()},{}]},{},["Card","Main"]);